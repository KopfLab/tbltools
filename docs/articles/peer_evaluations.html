<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setting up and evaluating peer evaluations • TBL Tools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Setting up and evaluating peer evaluations">
<meta property="og:description" content="tbltools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TBL Tools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/peer_evaluations.html">Peer Evaluations</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Readiness Assessment Tests
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/assessment_tests.html">Generating an iRAT/tRAT</a>
    </li>
    <li>
      <a href="../articles/module.html">Template iRAT/tRAT (HTML)</a>
    </li>
    <li>
      <a href="../articles/module.pdf">Template iRAT/tRAT (PDF)</a>
    </li>
    <li>
      <a href="../articles/module.docx">Template iRAT/tRAT (Word)</a>
    </li>
    <li>
      <a href="../articles/demo.html">Demo iRAT/tRAT (HTML)</a>
    </li>
    <li>
      <a href="../articles/demo.pdf">Demo iRAT/tRAT (PDF)</a>
    </li>
    <li>
      <a href="../articles/demo.docx">Demo iRAT/tRAT (Word)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kopflab/tbltools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="peer_evaluations_files/header-attrs-2.10/header-attrs.js"></script><link href="peer_evaluations_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="peer_evaluations_files/pagedtable-1.1/js/pagedtable.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Setting up and evaluating peer evaluations</h1>
            
            <h4 class="date">2021-09-28</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/kopflab/tbltools/blob/master/vignettes/peer_evaluations.Rmd"><code>vignettes/peer_evaluations.Rmd</code></a></small>
      <div class="hidden name"><code>peer_evaluations.Rmd</code></div>

    </div>

    
    
<p>Peer Evaluations are an important component of the Team-Based Learning (TBL) style flipped classroom. However, they can be difficult to set up and evaluate because of the requirement for each team member to evaluate only their own team members and the amount of data generated in big classes. This package provides tools to set up a custom web-based peer evaluation application that can be hosted for free on RStudio’s <a href="http://www.shinyapps.io/">shiny apps</a> server (or any other shiny server) and allows each student to log in and enter evaluations for their teammates with a unique passcode. All evaluations are stored in a google spreadsheet only the instructor has access to (via their own google drive credentials) and the data can be aggregated easily using the tbltools package.</p>
<div id="requirements" class="section level1">
<h1 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h1>
<p>To generate and host a peer evaluation, you need the following:</p>
<ul>
<li>R and a good RMarkdown editor (<a href="https://www.rstudio.com/">RStudio</a> is strongly recommended)</li>
<li>The <a href="https://kopflab.github.io/tbltools/">tbltools R package</a>
</li>
<li>A <a href="https://drive.google.com">google drive</a> account</li>
<li>A <a href="http://www.shinyapps.io/">shiny apps</a> account or other hosting solution for shiny apps</li>
</ul>
</div>
<div id="setup" class="section level1">
<h1 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h1>
<div id="peer-evaluation-spreadsheet" class="section level2">
<h2 class="hasAnchor">
<a href="#peer-evaluation-spreadsheet" class="anchor"></a>Peer evaluation spreadsheet</h2>
<p>Peer evaluations conveniently store the student responses in a google spreadsheet. Log into your google drive account and create a new empty google spreadsheet with a descriptive name (for example something like this: <em>class1234 peer evaluation 1</em>). This spreadsheet is where your peer evaluation data from all students will be stored. You should create a new spreadsheet for each peer evaluation.</p>
</div>
<div id="google-credentials-setup-once" class="section level2">
<h2 class="hasAnchor">
<a href="#google-credentials-setup-once" class="anchor"></a>Google credentials (setup once)</h2>
<p>It is important to secure access to the peer evaluation spreadsheet(s) so only you and the peer evaluation app have access. As of the google API version 4 this is best accomplished by creating a dedicated google project from your google account as outlined below. This creates a so-called <strong>service account</strong> with a unique client email address that you can share your peer evaluation spreadsheets with (just like sharing it with any other email address) as well as an access key file that your peer evaluation app can use for secure access. You can use this service account for all your peer evaluations and thus only need to set it up once (it does not expire). Note that previously peer evaluations worked by accessing your entire google drive account which is no longer the recommended (or supported) approach for security reasons. For additional information on service account authentication, see the .</p>
<ol style="list-style-type: decimal">
<li>go to <a href="https://console.cloud.google.com/projectcreate">console.cloud.google.com/projectcreate</a> to start creating a new project and make sure to switch to the correct google account in the upper right corner (if you have multiple)</li>
<li>give the project an informative <strong>Project name</strong>, e.g. <code>peer evaluations</code>
</li>
<li>go to the API libraries at <a href="https://console.cloud.google.com/apis/library">console.cloud.google.com/apis/library</a> (again, switch to the right google account if you have multiple)</li>
<li>select the newly created project from the dropdown at the top if it is not already selected</li>
<li>search for <strong>google sheets api</strong> and click <code>ENABLE</code>
</li>
<li>go back to the <a href="https://console.cloud.google.com/apis/library">API libraries</a>, select right google account and project, search for <strong>google drive api</strong>, click <code>ENABLE</code> as well</li>
<li>go to the API service account credentials at <a href="https://console.cloud.google.com/iam-admin/serviceaccounts">console.cloud.google.com/iam-admin/serviceaccounts</a> (again, switch to the right google account if you have multiple) and select the correct project</li>
<li>click on <code>CREATE SERVICE ACCOUNT</code>
</li>
<li>provide a descriptive <strong>Service account name</strong>, e.g. <code>google sheets editor</code> (this will lead to a service account ID along the lines of <code>google-sheets-editor@peer-evaluations-xxxx.iam...</code>) and <strong>Service account description</strong>, e.g. <code>Editing google sheets for peer evaluations</code>, then click <code>CREATE AND CONTINUE</code>
</li>
<li>select the <strong>Role</strong> <code>Basic</code> –&gt; <code>Editor</code> and click <code>CONTINUE</code>
</li>
<li>don’t grant any specific users access, click <code>DONE</code> instead</li>
<li>in the table you will see the new service account listed. Under <strong>Actions</strong> in the table, click on the vertical dots and choose <strong>Manage keys</strong>
</li>
<li>select <strong>ADD KEY</strong> –&gt; <strong>Create new key</strong>, make sure <code>JSON</code> is selected, then click <strong>CREATE</strong>
</li>
<li>this will automatically download an access token in JSON format, save the file with an informative name, e.g. as <code>peer_evaluations_access_key.json</code> and keep it in a safe location on your hard drive. Yyou can reuse this key file for all peer evaluations, and it is safe to use on a secure shiny app server but be careful to never post this file anywhere publicly as it could be used to gain access to your peer evaluation spreadsheets. You will have to provide the path to this key file when setting up the peer evaluation folder below.</li>
<li>open the <code>peer_evaluations_access_key.json</code> file in a text editor and share the peer evaluation spreadsheet(s) you want to access through the <code>tbltools</code> package with the <code>client_email</code> address listed there (something along the lines of <code>google-sheets-editor@peer-evaluations-xxxx.iam.gserviceaccount.com</code>)</li>
</ol>
</div>
<div id="create-peer-evaluation-app" class="section level2">
<h2 class="hasAnchor">
<a href="#create-peer-evaluation-app" class="anchor"></a>Create Peer Evaluation App</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/kopflab/tbltools">tbltools</a></span><span class="op">)</span>
<span class="va">key_file</span> <span class="op">&lt;-</span> <span class="st">"path/to/peer_evaluations_access_key.json"</span>
<span class="fu"><a href="../reference/tbl_setup_peer_evaluation.html">tbl_setup_peer_evaluation</a></span><span class="op">(</span>
  folder <span class="op">=</span> <span class="st">"peer eval 1"</span>,
  data_gs_title <span class="op">=</span> <span class="st">"class1234 peer evaluation 1"</span>,
  gs_key_file <span class="op">=</span> <span class="va">key_file</span>
<span class="op">)</span></code></pre></div>
<pre><code>#&gt; Info: creating app directory 'peer eval 1'
#&gt; Info: copying 'roster_template.xlsx' to peer eval 1/roster.xlsx
#&gt; Info: creating peer eval 1/app.R application file and application content
#&gt; Info: creating peer eval 1/evaluation.Rmd evaluation file
#&gt; Info: set up of tbltools' Peer Evaluation app in directory 'peer eval 1' is complete.Please modify the files in 'peer eval 1' as appropriate and run tbl_test_peer_evaluation('peer eval 1') before before uploading to shiny server.</code></pre>
<p>What just happened? tbltools created the <code>peer eval 1</code> folder and populated it with all the necessary files to launch a peer evaluation shiny application, which we will test locally in a moment. Let’s take a look at what files were created first:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/list.files.html">list.files</a></span><span class="op">(</span><span class="st">"peer eval 1"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;  [1] "peer eval 1/app_quantitative_scores.md"      </span>
<span class="co">#&gt;  [2] "peer eval 1/app_self_evaluation_minus.md"    </span>
<span class="co">#&gt;  [3] "peer eval 1/app_self_evaluation_plus.md"     </span>
<span class="co">#&gt;  [4] "peer eval 1/app_teammate_evaluation_minus.md"</span>
<span class="co">#&gt;  [5] "peer eval 1/app_teammate_evaluation_plus.md" </span>
<span class="co">#&gt;  [6] "peer eval 1/app_welcome.md"                  </span>
<span class="co">#&gt;  [7] "peer eval 1/app.R"                           </span>
<span class="co">#&gt;  [8] "peer eval 1/evaluation.Rmd"                  </span>
<span class="co">#&gt;  [9] "peer eval 1/gs_key_file.json"                </span>
<span class="co">#&gt; [10] "peer eval 1/roster.xlsx"                     </span>
<span class="co">#&gt; [11] "peer eval 1/www/app.css"</span></code></pre></div>
<ul>
<li>
<code>app_...md</code>: these markdown files contain place-holder text for the peer evaluation application that you may want to customize to better reflect what you want the text in the peer evaluation to say. The format is of these files <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>, which is a simple text formatting language.</li>
<li>
<code>app.R</code>: this is the actual R script that launches the peer evaluation application. Take a look inside this file and modify the function call to fit your preferences (e.g. the title of the application, how many points per teammate, etc.) - see the help on the <code><a href="../reference/tbl_run_peer_evaluation.html">?tbl_run_peer_evaluation</a></code> function for details on all available parameters.</li>
<li>
<code>evaluation.Rmd</code>: this is a template <a href="https://rmarkdown.rstudio.com/">RMarkdown</a> file to evaluate the data collected during the peer evaluation. For examples of what the functions in this file do, see the <a href="#evaluation">evaluation</a> section at the end of this document. Feel free to modify this evaluation file (or not use at all) as you see fit.</li>
<li>
<code>gs_key.json</code>: this is a copy of your google authentication key file for the peer evaluation spreadsheets. This allows the peer evaluation application to write the students’ responses to the google spreadsheet linked to the application. Without this file, the application would not be able to record any of the data. The key file is safe to use on a secure shiny app server but be careful to never post the file anywhere publicly as it could be used to gain access to the peer evaluation spreadsheets.</li>
<li>
<code>roster.xlsx</code>: this excel file contains a template list of students and their team affiliations (more details below). Please modify this file by hand to fit your class so that the peer evaluation application knows which access codes are valid and can provide each student automatically with a prompt to evaluate each of their team mates. The application <em>never</em> modifies this file (only you can modify it), it is used purely as a read-only data table.</li>
<li>
<code>www/app.css</code>: this is a CSS stylesheet file that describes the stylistic formatting of the peer evaluation application. Modify this file to change colors, font sizes, etc (the basic style is the <a href="https://getbootstrap.com/">Bootstrap</a> style). You may also include any other static files in the <code>www</code> folder that should be included in the application (e.g. image files).</li>
</ul>
<p>For testing this new peer evaluation, feel free to jump straight to the <a href="#testing">testing</a> section below.</p>
</div>
<div id="roster" class="section level2">
<h2 class="hasAnchor">
<a href="#roster" class="anchor"></a>Roster</h2>
<p>If you like the formatting and default text of the peer evaluation application, the roster is really the only file you need to edit. The template looks as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">readxl</span><span class="fu">::</span><span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html">read_excel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="st">"peer eval 1"</span>, <span class="st">"roster.xlsx"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">paged_table</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["last"],"name":[1],"type":["chr"],"align":["left"]},{"label":["first"],"name":[2],"type":["chr"],"align":["left"]},{"label":["access_code"],"name":[3],"type":["chr"],"align":["left"]},{"label":["team"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"Pig","2":"Spider","3":"1234","4":"The Dream Team"},{"1":"Montoya","2":"Inigo","3":"7331","4":"The Dream Team"},{"1":"Simpson","2":"Homer","3":"0007","4":"The Dream Team"},{"1":"Thought","2":"Deep","3":"4242","4":"Don't Panic"},{"1":"NA","2":"Marvin","3":"1111","4":"Don't Panic"},{"1":"Prefect","2":"Ford","3":"7777","4":"Don't Panic"},{"1":"Dent","2":"Arthur","3":"1979","4":"Don't Panic"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>As you can see, the excel sheet has only four columns, student last name (<code>last</code>), first name (<code>first</code>), individual unique access code (<code>access_code</code>) and team name (<code>team</code>). You may add additional columns to this spreadsheet if you would like to keep the information organized together (such as e.g. email addresses) but cannot omit these four. The first and last names are simply for the application to provide information to the students whose evaluation they are filling out (the last name is optional as seen in the example of <em>Marvin</em>). The team name must be identical between all team member so that the peer evaluation can identify each team correctly. The <code>access_code</code> can be any combination of letters, numbers and special characters that is unique across the whole roster as it allows each student to log into the peer evaluation (i.e. these access codes need to be conveyed to the students). To generate a random set of access codes, this package provides a convenience function to do so:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tbl_generate_access_codes.html">tbl_generate_access_codes</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, length <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>
<span class="co">#&gt; KSE3GW</span>
<span class="co">#&gt; 5X80EU</span>
<span class="co">#&gt; UXIS06</span>
<span class="co">#&gt; C5DZ4U</span>
<span class="co">#&gt; HYE50A</span>
<span class="co">#&gt; T3ABUR</span>
<span class="co">#&gt; 9Z7GQQ</span>
<span class="co">#&gt; NY2TFX</span>
<span class="co">#&gt; 9SWLYG</span>
<span class="co">#&gt; FG1GXW</span></code></pre></div>
</div>
<div id="template" class="section level2">
<h2 class="hasAnchor">
<a href="#template" class="anchor"></a>Template</h2>
<p>Once you have set up your first peer evaluation and adjusted all the text and formatting, you may want to use it as a template for future peer evaluations rather than starting from scratch each time. This is most easily accomplished by using the <code>tbl_duplicate_peer_evaluation</code> function instead of <code>tbl_setup_peer_evaluation</code>. Simply point the function to your previous peer evaluation folder (the template), specify the name of the new folder, and provide the name of the new google spreadsheet the application should be linked to (note that the spreadsheet should already exist so the new peer evaluation can make sure it has access to it).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tbl_duplicate_peer_evaluation.html">tbl_duplicate_peer_evaluation</a></span><span class="op">(</span>
  old_folder <span class="op">=</span> <span class="st">"peer eval 1"</span>, new_folder <span class="op">=</span> <span class="st">"peer eval 2"</span>, 
  data_gs_title <span class="op">=</span> <span class="st">"class1234 peer evaluation 2"</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; Info: creating app directory 'peer eval 2'
#&gt; Info: copying 11 files from template 'peer eval 1' into 'peer eval 2'...
#&gt; Info: changing spreadsheet title to 'class1234 peer evaluation 2'.
#&gt; Info: peer evaluation app from 'peer eval 1' is now fully duplicated in directory 'peer eval 2'.Please modify the files in 'peer eval 2' as appropriate and run tbl_test_peer_evaluation('peer eval 2') before before uploading to shiny server.</code></pre>
</div>
<div id="troubleshooting" class="section level2">
<h2 class="hasAnchor">
<a href="#troubleshooting" class="anchor"></a>Troubleshooting</h2>
<p>If you encounter any issues with authentication, run the following function to test google drive credentials and check that the google spreadsheet can be accessed:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tbl_check_gs_access.html">tbl_check_gs_access</a></span><span class="op">(</span>
  folder <span class="op">=</span> <span class="st">"peer eval 1"</span>, 
  data_gs_title <span class="op">=</span> <span class="st">"class1234 peer evaluation 1"</span>
<span class="op">)</span></code></pre></div>
<p>For example, you may get the following error trying to test your peer evaluation application because of a problem with your authentication token (expired or for the wrong account):</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tbl_test_peer_evaluation.html">tbl_test_peer_evaluation</a></span><span class="op">(</span><span class="st">"peer eval 1"</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; Loading required package: shiny
#&gt; ***************************************************************
#&gt; Info: launching Peer Evaluation GUI (version 0.6.0)...
#&gt; Info: app title: 'Peer Evaluation'
#&gt; Info: roster: 7 students in 2 teams
#&gt; Info: points per teammate: 10 (min: 0, max: 15, min diff: 2)
#&gt; Info: testing authentication with key file 'gs_key_file.json'...
#&gt; google authentication failed: Bad Request (HTTP 400).. Please try again.</code></pre>
<p>Finally, if you ever want to start over from scratch, simply delete the created folder (or rename it) and run <code><a href="../reference/tbl_setup_peer_evaluation.html">tbl_setup_peer_evaluation()</a></code> again.</p>
<p>For additional information on the <code>tbl_setup_peer_evaluation</code> (or any other tbltools function), please consult the package help with <code><a href="../reference/tbl_setup_peer_evaluation.html">?tbl_setup_peer_evaluation</a></code>.</p>
</div>
</div>
<div id="testing" class="section level1">
<h1 class="hasAnchor">
<a href="#testing" class="anchor"></a>Testing</h1>
<p>To test the peer evaluation appliation, simply use the <code>tbl_test_peer_evaluation</code> function, which launches the application on an adhoc local server on your own computer. Keep in mind that although the test application run just on your computer, it already writes data to the google spreadsheet! This is good for testing purposes (see what gets generated in your google spreadsheet) but make sure to delete any test records from the google spreadsheet that may interfere with students’ peer evaluations prior to providing the students with the link to the deployed peer evaluation app. For this reason, Many people keep at least one test person in the roster (or a whole test team) to make testing easier.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tbl_test_peer_evaluation.html">tbl_test_peer_evaluation</a></span><span class="op">(</span><span class="st">"peer eval 1"</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; ***************************************************************
#&gt; Info: launching Peer Evaluation GUI (version 0.6.0)...
#&gt; Info: app title: 'Peer Evaluation'
#&gt; Info: roster: 7 students in 2 teams
#&gt; Info: points per teammate: 10 (min: 0, max: 15, min diff: 2)
#&gt; Info: testing authentication with key file 'gs_key_file.json'...
#&gt; Info: looking for spreadsheet "class1234 peer evaluation 1"...
#&gt; Info: spreadsheet retrieved successfully.
#&gt; 
#&gt; Listening on http://127.0.0.1:3683
#&gt; 
#&gt; 
#&gt; INFO: Loading GUI instance ...</code></pre>
<div id="login" class="section level2">
<h2 class="hasAnchor">
<a href="#login" class="anchor"></a>Login</h2>
<p>The following is a screenshot of the login screen for the peer evaluation application. Note that you can change, for example, the displayed title with the <code>app_title</code> parameter in the <code>app.R</code> application file.</p>
<p><img src="images/pe_login.png" width="50%" style="border: 2px solid black;"></p>
</div>
<div id="welcome" class="section level2">
<h2 class="hasAnchor">
<a href="#welcome" class="anchor"></a>Welcome</h2>
<p>Upon succesful login - here from the example student <em>Homer Simpson</em> who is part of the template <code>roster.xlsx</code>, the student sees a welcome message with their team name listed and welcome text that can be modified in the <code>app_welcome.md</code> file. Note that the default instructions also describe how students can save their peer evaluations and resume editing them at a later point (logging in with the same access code), only once they submit their answers they become final.</p>
<p><img src="images/pe_welcome.png" width="80%" style="border: 2px solid black;"></p>
</div>
<div id="evaluation" class="section level2">
<h2 class="hasAnchor">
<a href="#evaluation" class="anchor"></a>Evaluation</h2>
<p>After the welcome message, the student is presented with a set of tabs for self evaluation (first tab), one tab for each team member (here <em>Spider Pig</em> and <em>Inigo Montoya</em> who are also part of <em>The Dream Team</em> as listed in the template <code>roster.xlsx</code>), and a final tab for quantitative scores. The self evaluation and team member tabs are essay questions for qualitative peer evaluation.</p>
<p><img src="images/pe_evaluation.png" width="80%" style="border: 2px solid black;"></p>
</div>
<div id="quantitative" class="section level2">
<h2 class="hasAnchor">
<a href="#quantitative" class="anchor"></a>Quantitative</h2>
<p>The quantitative evaluations are provided on a separate tab as illustrated below and are subject to the constraints set through the parameters of the <code>tbl_run_peer_evaluation</code> function in the <code>app.R</code> application file (e.g. number of points per student, required difference in max and minimum assigned points if any, etc.).</p>
<p><img src="images/pe_quant.png" width="80%" style="border: 2px solid black;"></p>
</div>
</div>
<div id="deployment" class="section level1">
<h1 class="hasAnchor">
<a href="#deployment" class="anchor"></a>Deployment</h1>
<p>To make your peer evaluation application available to the students, it needs to be deployed on a server the students havde access to (i.e. not just on your own computer). You or your university may run its own shiny server in which case they can simply host your application folder (i.e. the <code>peer eval 1</code> folder) on it. However, more commonly, the easiest approach is using RStudio’s free <a href="http://www.shinyapps.io/">shiny apps</a> service. Once you have an account, you need to install the rsconnect package (<code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages('rsconnect')</a></code>) and configure your shinyapps credentials (<code><a href="https://rdrr.io/pkg/rsconnect/man/setAccountInfo.html">rsconnect::setAccountInfo(name="&lt;ACCOUNT&gt;", token="&lt;TOKEN&gt;", secret="&lt;SECRET&gt;")</a></code>). For a detailed guide, see <a href="https://shiny.rstudio.com/articles/shinyapps.html#configure-rsconnect">this configuration help</a>. Once your credentials are set, simply call the <code>tbl_deploy_peer_evaluation</code> function to upload your peer evaluation app to the shinyapps server. Note that you can also use the <code><a href="https://rdrr.io/pkg/rsconnect/man/deployApp.html">rsconnect::deployApp</a></code> function directly, or launch the test application (<code>tbl_test_peer_evaluation</code>) and click the <strong>Publish</strong> button in the upper right corner.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tbl_deploy_peer_evaluation.html">tbl_deploy_peer_evaluation</a></span><span class="op">(</span>folder <span class="op">=</span> <span class="st">"peer eval 1"</span><span class="op">)</span></code></pre></div>
</div>
<div id="data-evaluation" class="section level1">
<h1 class="hasAnchor">
<a href="#data-evaluation" class="anchor"></a>Data Evaluation</h1>
<p>Once your students have filled out their peer evaluations, you can pull the data directly from the google spreadsheet by hand or with your own script. The tbltools package provides some convenience functions for frequent data evaluation operations, such as summarizing the data by student. The <code>evaluation.Rmd</code> template file in your peer evaluation app folder provides a good starting point for this. Here we show with an example google spreadsheet how the data aggregation functions work and what the evaluation summaries look like and how to export them easily to an Excel spreadsheet for further processing.</p>
<div id="fetch-data" class="section level2">
<h2 class="hasAnchor">
<a href="#fetch-data" class="anchor"></a>Fetch data</h2>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># download data from google spreadsheet (stored in an .xlsx file)</span>
<span class="va">pe_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tbl_fetch_peer_evaluation_data.html">tbl_fetch_peer_evaluation_data</a></span><span class="op">(</span>data_gs_title <span class="op">=</span> <span class="st">"class1234 peer evaluation 1"</span><span class="op">)</span>
<span class="va">pe_data</span> <span class="op">%&gt;%</span> <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">paged_table</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; Warning: The `data_gs_key` argument of `tbl_fetch_peer_evaluation_data()` is deprecated as of tbltools 0.6.0.
#&gt; Please use the `data_gs_id` argument of `tbl_setup_peer_evaluation()` instead.
#&gt; Info: proceeding with provided google spreadsheet
#&gt; Info: downloading data to './pe_data_downloaded.xlsx'... complete.</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["last"],"name":[1],"type":["chr"],"align":["left"]},{"label":["first"],"name":[2],"type":["chr"],"align":["left"]},{"label":["access_code"],"name":[3],"type":["chr"],"align":["left"]},{"label":["team"],"name":[4],"type":["chr"],"align":["left"]},{"label":["n_team_mates"],"name":[5],"type":["int"],"align":["right"]},{"label":["started"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["submitted"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["submitted_timestamp"],"name":[8],"type":["dttm"],"align":["right"]},{"label":["evaluations"],"name":[9],"type":["list"],"align":["right"]}],"data":[{"1":"Pig","2":"Spider","3":"id_1234","4":"The Dream Team","5":"2","6":"TRUE","7":"FALSE","8":"<NA>","9":"<tibble[,5]>"},{"1":"Montoya","2":"Inigo","3":"id_7331","4":"The Dream Team","5":"2","6":"TRUE","7":"FALSE","8":"<NA>","9":"<tibble[,5]>"},{"1":"Simpson","2":"Homer","3":"id_0007","4":"The Dream Team","5":"2","6":"TRUE","7":"TRUE","8":"2019-02-17 05:13:36","9":"<tibble[,5]>"},{"1":"Thought","2":"Deep","3":"id_4242","4":"Don't Panic","5":"3","6":"FALSE","7":"FALSE","8":"<NA>","9":"<tibble[,5]>"},{"1":"NA","2":"Marvin","3":"id_1111","4":"Don't Panic","5":"3","6":"FALSE","7":"FALSE","8":"<NA>","9":"<tibble[,5]>"},{"1":"Prefect","2":"Ford","3":"id_7777","4":"Don't Panic","5":"3","6":"FALSE","7":"FALSE","8":"<NA>","9":"<tibble[,5]>"},{"1":"Dent","2":"Arthur","3":"id_1979","4":"Don't Panic","5":"3","6":"FALSE","7":"FALSE","8":"<NA>","9":"<tibble[,5]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="summarize-evaluations" class="section level2">
<h2 class="hasAnchor">
<a href="#summarize-evaluations" class="anchor"></a>Summarize evaluations</h2>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pe_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/tbl_summarize_peer_evaluation_data.html">tbl_summarize_peer_evaluation_data</a></span><span class="op">(</span>submitted_only <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">paged_table</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["evaluatee_access_code"],"name":[1],"type":["chr"],"align":["left"]},{"label":["last"],"name":[2],"type":["chr"],"align":["left"]},{"label":["first"],"name":[3],"type":["chr"],"align":["left"]},{"label":["team"],"name":[4],"type":["chr"],"align":["left"]},{"label":["n_team_mates"],"name":[5],"type":["int"],"align":["right"]},{"label":["n_evaluations"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["score_avg"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["self_plus"],"name":[8],"type":["chr"],"align":["left"]},{"label":["self_minus"],"name":[9],"type":["chr"],"align":["left"]},{"label":["team_plus"],"name":[10],"type":["chr"],"align":["left"]},{"label":["team_minus"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"id_1234","2":"Pig","3":"Spider","4":"The Dream Team","5":"2","6":"2","7":"8.5","8":"Oink!","9":"Oink?","10":"Walk on the ceiling.\\n\\nAlways enthusiastic.","11":"Stay on the ground.\\n\\nSing more."},{"1":"id_7331","2":"Montoya","3":"Inigo","4":"The Dream Team","5":"2","6":"2","7":"5.0","8":"Pirate stuff.","9":"More pirate stuff.","10":"Great teamwork.","11":"Focus a little more on the donuts instead of avenging his father."},{"1":"id_0007","2":"Simpson","3":"Homer","4":"The Dream Team","5":"2","6":"2","7":"16.5","8":"Bring donuts for everyone.","9":"Not eat all the donuts myself.","10":"Bring donuts.","11":"He could share a little more."},{"1":"id_4242","2":"Thought","3":"Deep","4":"Don't Panic","5":"3","6":"0","7":"NA","8":"NA","9":"NA","10":"NA","11":"NA"},{"1":"id_1111","2":"NA","3":"Marvin","4":"Don't Panic","5":"3","6":"0","7":"NA","8":"NA","9":"NA","10":"NA","11":"NA"},{"1":"id_7777","2":"Prefect","3":"Ford","4":"Don't Panic","5":"3","6":"0","7":"NA","8":"NA","9":"NA","10":"NA","11":"NA"},{"1":"id_1979","2":"Dent","3":"Arthur","4":"Don't Panic","5":"3","6":"0","7":"NA","8":"NA","9":"NA","10":"NA","11":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="export-to-excel" class="section level2">
<h2 class="hasAnchor">
<a href="#export-to-excel" class="anchor"></a>Export to Excel</h2>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pe_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/tbl_export_peer_evaluation_data.html">tbl_export_peer_evaluation_data</a></span><span class="op">(</span>submitted_only <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; Info: exporting peer evaluation data and data summary to 'pe_data_summary.xlsx'... completed.</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sebastian Kopf.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
