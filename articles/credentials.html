<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Credentials • TBL Tools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Credentials">
<meta property="og:description" content="tbltools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TBL Tools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/peer_evaluations.html">Peer Evaluations</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Readiness Assessment Tests
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/assessment_tests.html">Generating an iRAT/tRAT</a>
    </li>
    <li>
      <a href="../articles/module.html">Template iRAT/tRAT (HTML)</a>
    </li>
    <li>
      <a href="../articles/module.pdf">Template iRAT/tRAT (PDF)</a>
    </li>
    <li>
      <a href="../articles/module.docx">Template iRAT/tRAT (Word)</a>
    </li>
    <li>
      <a href="../articles/demo.html">Demo iRAT/tRAT (HTML)</a>
    </li>
    <li>
      <a href="../articles/demo.pdf">Demo iRAT/tRAT (PDF)</a>
    </li>
    <li>
      <a href="../articles/demo.docx">Demo iRAT/tRAT (Word)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kopflab/tbltools" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Credentials</h1>
            
            <h4 data-toc-skip class="date">2023-07-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/kopflab/tbltools/blob/HEAD/vignettes/credentials.Rmd" class="external-link"><code>vignettes/credentials.Rmd</code></a></small>
      <div class="hidden name"><code>credentials.Rmd</code></div>

    </div>

    
    
<p>It is important to secure access to the peer evaluation
spreadsheet(s) so only you and the peer evaluation app have access. As
of the google API version 4 this is best accomplished by creating a
dedicated google project from your google account as outlined below.
This creates a so-called <strong>service account</strong> with a unique
client email address that you can share your peer evaluation
spreadsheets with (just like sharing it with any other email address) as
well as an access key file that your peer evaluation app can use for
secure access. You can use this service account for all your peer
evaluations and thus only need to set it up once (it does not expire).
Note that previously peer evaluations worked by accessing your entire
google drive account which is no longer the recommended (or supported)
approach for security reasons. For additional information on service
account authentication, see the .</p>
<ol style="list-style-type: decimal">
<li>go to <a href="https://console.cloud.google.com/projectcreate" class="external-link">console.cloud.google.com/projectcreate</a>
to start creating a new project and make sure to switch to the correct
google account in the upper right corner (if you have multiple)</li>
<li>give the project an informative <strong>Project name</strong>,
e.g. <code>peer evaluations</code>
</li>
<li>go to the API libraries at <a href="https://console.cloud.google.com/apis/library" class="external-link">console.cloud.google.com/apis/library</a>
(again, switch to the right google account if you have multiple)</li>
<li>select the newly created project from the dropdown at the top if it
is not already selected</li>
<li>search for <strong>google sheets api</strong> and click
<code>ENABLE</code>
</li>
<li>go back to the <a href="https://console.cloud.google.com/apis/library" class="external-link">API libraries</a>,
select right google account and project, search for <strong>google drive
api</strong>, click <code>ENABLE</code> as well</li>
<li>go to the API service account credentials at <a href="https://console.cloud.google.com/iam-admin/serviceaccounts" class="external-link">console.cloud.google.com/iam-admin/serviceaccounts</a>
(again, switch to the right google account if you have multiple) and
select the correct project</li>
<li>click on <code>CREATE SERVICE ACCOUNT</code>
</li>
<li>provide a descriptive <strong>Service account name</strong>,
e.g. <code>google sheets editor</code> (this will lead to a service
account ID along the lines of
<code>google-sheets-editor@peer-evaluations-xxxx.iam...</code>) and
<strong>Service account description</strong>,
e.g. <code>Editing google sheets for peer evaluations</code>, then click
<code>CREATE AND CONTINUE</code>
</li>
<li>select the <strong>Role</strong> <code>Basic</code> –&gt;
<code>Editor</code> and click <code>CONTINUE</code>
</li>
<li>don’t grant any specific users access, click <code>DONE</code>
instead</li>
<li>in the table you will see the new service account listed. Under
<strong>Actions</strong> in the table, click on the vertical dots and
choose <strong>Manage keys</strong>
</li>
<li>select <strong>ADD KEY</strong> –&gt; <strong>Create new
key</strong>, make sure <code>JSON</code> is selected, then click
<strong>CREATE</strong>
</li>
<li>this will automatically download an access token in JSON format,
save the file with an informative name, e.g. as
<code>peer_evaluations_access_key.json</code> and keep it in a safe
location on your hard drive. You can reuse this key file for all peer
evaluations, and it is safe to use on a secure shiny app server but be
careful to never post this file anywhere publicly as it could be used to
gain access to your peer evaluation spreadsheets. You will have to
provide the path to this key file when setting up the peer evaluation
folder below.</li>
<li>open the <code>peer_evaluations_access_key.json</code> file in a
text editor and share the peer evaluation spreadsheet(s) you want to
access through the <code>tbltools</code> package with the
<code>client_email</code> address listed there (something along the
lines of
<code>google-sheets-editor@peer-evaluations-xxxx.iam.gserviceaccount.com</code>)</li>
</ol>
</div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sebastian Kopf.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
